<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Give Review</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Custom Tailwind Configuration -->
    <script src="/frontend/public/js/color_config.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        .progress-container {
            background-color: #f3f4f6;
            border-radius: 9999px;
            height: 0.75rem;
            width: 100%;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            border-radius: 9999px;
            transition: width 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="flex flex-col md:flex-row mx-auto px-4 py-5 max-w-7xl">
        <div class="md:w-[50%] ml-10 md:ml-0 mb-5 md:mt-20">
            <p class="font-semibold pl-1">To</p>
            <h1 class="text-2xl sm:text-3xl md:text-2xl lg:text-3xl font-bold text-gray-800 -mb-1">
                Ananta Plumbing Service
            </h1>
            <p class="text-gray-500">Ananta Services</p>
        </div>
        <div class="bg-white rounded-xl shadow-lg p-8 w-full">
            <h1 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                <i data-lucide="message-square-quote" class="mr-2 text-indigo-600"></i>
                Share Your Experience
            </h1>
            
            <form>
                <!-- Overall Rating -->
                <div class="mb-8">
                    <h2 class="flex text-xl font-semibold text-gray-700 mb-3">Overall Rating</h2>
                    <div class="flex items-center">
                        <div class="flex space-x-1 w-full justify-between md:mx-20">
                            <button type="button" class="focus:outline-none" data-rating="1">
                                <i data-lucide="star" class="w-8 h-8 text-gray-300 cursor-pointer star-icon"></i>
                            </button>
                            <button type="button" class="focus:outline-none" data-rating="2">
                                <i data-lucide="star" class="w-8 h-8 text-gray-300 cursor-pointer star-icon"></i>
                            </button>
                            <button type="button" class="focus:outline-none" data-rating="3">
                                <i data-lucide="star" class="w-8 h-8 text-gray-300 cursor-pointer star-icon"></i>
                            </button>
                            <button type="button" class="focus:outline-none" data-rating="4">
                                <i data-lucide="star" class="w-8 h-8 text-gray-300 cursor-pointer star-icon"></i>
                            </button>
                            <button type="button" class="focus:outline-none" data-rating="5">
                                <i data-lucide="star" class="w-8 h-8 text-gray-300 cursor-pointer star-icon"></i>
                            </button>
                        </div>
                    </div>
                    <input type="hidden" name="overall_rating" id="overall_rating" value="0">
                </div>
                
                <!-- Progress Bar Reviews -->
                <div class="space-y-6 mb-8">
                    <!-- Service Satisfaction -->
                    <div class="mb-4">
                        <div class="flex justify-between">
                            <label class="text-gray-700 font-medium flex items-center">
                                Service Satisfaction
                            </label>
                            <span class="text-indigo-600 font-semibold" id="satisfaction-value">0%</span>
                        </div>
                        <input type="range" min="0" max="100" value="0" class="w-full mt-1" 
                               id="satisfaction-slider" name="satisfaction">
                    </div>
                    
                    <!-- Reliability -->
                    <div class="mb-4">
                        <div class="flex justify-between">
                            <label class="text-gray-700 font-medium flex items-center">
                                Reliability
                            </label>
                            <span class="text-indigo-600 font-semibold" id="reliability-value">0%</span>
                        </div>
                        <input type="range" min="0" max="100" value="0" class="w-full mt-1" 
                               id="reliability-slider" name="reliability">
                    </div>
                    
                    <!-- Response Time -->
                    <div class="mb-4">
                        <div class="flex justify-between">
                            <label class="text-gray-700 font-medium flex items-center">
                                Service Response Time
                            </label>
                            <span class="text-indigo-600 font-semibold" id="response-value">0%</span>
                        </div>
                        <input type="range" min="0" max="100" value="0" class="w-full mt-1" 
                               id="response-slider" name="response_time">
                    </div>
                </div>
                
                <!-- Comment -->
                <div class="mb-8">
                    <label for="comment" class="block text-xl font-semibold text-gray-700 mb-3 flex items-center">
                        Your Comments
                    </label>
                    <textarea id="comment" name="comment" rows="5" 
                              class="w-full px-4 py-3 border border-gray-300 rounded-lg outline-none focus:border-primary resize-none"
                              placeholder="Share your experience with our service..."></textarea>
                </div>
                
                <!-- Submit Button -->
                <div class="flex justify-end">
                    <button type="submit" class="bg-primary hover:bg-primary/90 text-white font-bold py-3 px-6 rounded-lg flex items-center">
                        <i data-lucide="send" class="w-5 h-5 mr-2"></i>
                        Submit Review
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();
        
        // Star rating functionality
        const stars = document.querySelectorAll('.star-icon');
        const ratingText = document.getElementById('rating-text');
        const ratingInput = document.getElementById('overall_rating');
        
        stars.forEach(star => {
            star.parentElement.addEventListener('click', () => {
                const rating = parseInt(star.parentElement.getAttribute('data-rating'));
                ratingInput.value = rating;
                
                // Update stars
                stars.forEach((s, index) => {
                    if (index < rating) {
                        s.classList.remove('text-gray-300');
                        s.classList.add('fill-primary');
                        s.classList.add('text-primary')
                    } else {
                        s.classList.remove('fill-primary');
                        s.classList.remove('text-primary')
                        s.classList.add('text-gray-300');
                    }
                });
            });
        });
        
        // Progress bar functionality
        function setupSlider(sliderId, barId, valueId) {
            const slider = document.getElementById(sliderId);
            const bar = document.getElementById(barId);
            const value = document.getElementById(valueId);
            
            slider.addEventListener('input', () => {
                const val = slider.value;
                value.textContent = val + '%';
            });
        }
        
        setupSlider('satisfaction-slider', 'satisfaction-bar', 'satisfaction-value');
        setupSlider('reliability-slider', 'reliability-bar', 'reliability-value');
        setupSlider('response-slider', 'response-bar', 'response-value');
    </script>
</body>
</html>