import{j as e,r as c,f as y,k as g}from"./index-CQANM4Jj.js";const f=({title:s,description:o,buttonText:r,status:n,onClose:t,cancel:l})=>(console.log(n),e.jsx("div",{className:`w-full h-full left-0 fixed top-0 z-100 bg-white/30 flex items-center ${n?"block":"hidden"}`,children:e.jsxs("div",{className:"mx-auto bg-gray-100 p-5 sm:px-10 sm:py-7 shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold",children:s}),e.jsx("p",{className:"text-gray-800",children:o}),e.jsx("button",{onClick:t,className:"px-5 border py-1 text-lg mt-5 rounded-sm bg-indigo-500 text-white cursor-pointer",children:r}),e.jsx("button",{onClick:l,className:"px-5 border border-indigo-500 py-1 text-lg mt-5 rounded-sm bg-transperent text-indigo-500 cursor-pointer ml-2",children:"Cancel"})]})}));function w(){const[s,o]=c.useState({name:"",email:"",mobile:"",city:"",state:"",country:""}),[r,n]=c.useState({status:!1}),[t,l]=c.useState(!1),[i,d]=c.useState(!0);c.useEffect(()=>{(async()=>{try{d(!0);const x=await g.get("/customer/profile");o(x.data)}catch(x){console.error("Error fetching profile:",x)}finally{d(!1)}})()},[]);const m=a=>{const{name:x,value:p}=a.target;t&&o(h=>({...h,[x]:p}))},u=()=>{n(a=>({...a,status:!1}))},b=async()=>{if(t)try{await g.put("/customer/profile/update",s),l(!1),n({title:"Profile Updated !",description:"Your profile details updated successfully.",status:!0,buttonText:"Ok",onClose:u,cancel:u})}catch(a){n({title:"Error in Profile Update !",description:"Something gone wrong to update profile try again after sometimes.",status:!0,buttonText:"Ok",onClose:u,cancel:u}),console.error("Error updating profile:",a)}else l(!0)};return i?e.jsx(y,{}):e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsx(f,{title:r.title,description:r.description,status:r.status,buttonText:r.buttonText,onClose:r.onClose}),e.jsx("div",{className:"md:col-span-1 flex justify-between",children:e.jsxs("div",{className:"px-4 sm:px-0",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"Profile Information"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"Update your account's profile information and email address."})]})}),e.jsx("div",{className:"mt-5 md:col-span-2 md:mt-0",children:e.jsxs("form",{onSubmit:a=>a.preventDefault(),children:[e.jsx("div",{className:"bg-white px-4 py-5 shadow sm:p-6 sm:rounded-t-md",children:e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[e.jsx("input",{id:"photo",type:"file",className:"hidden"}),e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:`https://ui-avatars.com/api/?bold=true&name=${encodeURIComponent(s.name)}&color=4c51bf&background=82efe3`,className:"h-20 w-20 rounded-full object-cover"})}),e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200 active:text-gray-800 active:bg-gray-50 disabled:opacity-25 transition mr-2 mt-2",children:"Select A New Photo "})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:m,disabled:!t,className:`block w-full tracking-wide border-b border-gray-300 pl-1 text-lg sm:text-[16px] ${t?"text-gray-800 border-gray-400":"text-gray-600"} outline-none`})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:m,disabled:!0,className:"block w-full tracking-wide border-b border-gray-300 pl-1 text-lg sm:text-[16px] text-gray-600 outline-none"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Mobile"}),e.jsx("input",{type:"text",name:"mobile",value:s.mobile,onChange:m,disabled:!0,className:"block w-full tracking-wide border-b border-gray-300 pl-1 text-lg sm:text-[16px] text-gray-600 outline-none"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-4 sm:flex sm:gap-4 space-y-6 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"City"}),e.jsx("input",{type:"text",name:"city",value:s.city,onChange:m,disabled:!t,className:`block w-full tracking-wide border-b border-gray-300 pl-1 text-lg sm:text-[16px] ${t?"text-gray-800 border-gray-400":"text-gray-600"} outline-none`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"State"}),e.jsx("input",{type:"text",name:"state",value:s.state,onChange:m,disabled:!t,className:`block w-full tracking-wide border-b border-gray-300 pl-1 text-lg sm:text-[16px] ${t?"text-gray-800 border-gray-400":"text-gray-600"} outline-none`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Country"}),e.jsx("input",{type:"text",name:"country",value:s.country,onChange:m,disabled:!t,className:`block w-full tracking-wide border-b border-gray-300 pl-1 text-lg sm:text-[16px] ${t?"text-gray-800 border-gray-400":"text-gray-600"} outline-none`})]})]})]})}),e.jsx("div",{className:"flex items-center justify-end bg-gray-50 px-4 py-3 text-end shadow sm:rounded-b-md",children:e.jsx("button",{type:"button",onClick:b,className:`inline-flex items-center rounded-md border border-transparent px-4 py-2 text-sm font-medium tracking-wide text-white transition ${t?"bg-green-600 hover:bg-green-500":"bg-indigo-500 hover:bg-indigo-600"}`,disabled:i,children:t?"Save Changes":"Edit Details"})})]})})]})}function j(){const[s,o]=c.useState({currentPassword:"",newPassword:""}),[r,n]=c.useState(""),[t,l]=c.useState(""),[i,d]=c.useState({status:!1}),m=()=>{d(a=>({...a,status:!1}))},u=a=>{o({...s,[a.target.name]:a.target.value})},b=async a=>{var x,p;if(a.preventDefault(),s.newPassword!==r){l("Confirm password does not match new password.");return}try{await g.put("/customer/password",s),d({title:"Password Updated !",description:"Your profile password changed successfully.",status:!0,buttonText:"Ok",onClose:m,cancel:m}),l(""),o({currentPassword:"",newPassword:""}),n("")}catch(h){l(((p=(x=h.response)==null?void 0:x.data)==null?void 0:p.message)||"Something went wrong")}};return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:i.title,description:i.description,status:i.status,ButtonText:i.buttonText,onClose:i.onClose}),e.jsx("div",{className:"mt-10",children:e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-1 px-4 sm:px-0",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"Update Password"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"Ensure your account is using a long, random password to stay secure."})]}),e.jsx("div",{className:"mt-5 md:col-span-2 md:mt-0",children:e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"bg-white px-4 py-5 shadow sm:p-6 sm:rounded-tl-md sm:rounded-tr-md",children:[t&&e.jsx("p",{className:"text-red-500 text-sm mb-2",children:t}),e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[e.jsx("label",{className:"block font-semibold text-sm text-gray-700",htmlFor:"current_password",children:"Current Password"}),e.jsx("input",{id:"current_password",type:"password",name:"currentPassword",value:s.currentPassword,onChange:u,autoComplete:"current-password",className:"max-w-full outline-none border-b border-gray-300 focus:border-gray-400 text-gray-700 block pl-1 w-full"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[e.jsx("label",{className:"block font-semibold text-sm text-gray-700",htmlFor:"password",children:"New Password"}),e.jsx("input",{id:"password",type:"password",name:"newPassword",value:s.newPassword,onChange:u,autoComplete:"new-password",className:"max-w-full outline-none border-b border-gray-300 focus:border-gray-400 text-gray-700 block pl-1 w-full"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-4",children:[e.jsx("label",{className:"block font-semibold text-sm text-gray-700",htmlFor:"password_confirmation",children:"Confirm Password"}),e.jsx("input",{id:"password_confirmation",type:"password",name:"confirmPassword",value:r,onChange:a=>n(a.target.value),autoComplete:"new-password",className:"max-w-full outline-none border-b border-gray-300 focus:border-gray-400 text-gray-700 block pl-1 w-full"})]})]})]}),e.jsx("div",{className:"flex items-center justify-end bg-gray-50 px-4 py-3 text-end shadow sm:rounded-bl-md sm:rounded-br-md sm:px-6",children:e.jsx("button",{type:"submit",className:"inline-flex items-center rounded-md border border-transparent bg-indigo-500 px-4 py-2 text-sm font-medium tracking-wide text-white transition hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50 disabled:opacity-50",disabled:!s.currentPassword||!s.newPassword||!r,children:"Change Password"})})]})})]})})]})}function N(){const[s,o]=c.useState({status:!1}),r=()=>{o(d=>({...d,status:!1}))},n=()=>{localStorage.removeItem("token"),o(d=>({...d,status:!1})),window.location.href="/"},t=()=>{o({title:"Are you sure !",description:"would you like to logout the current account?",status:!0,buttonText:"Yes, Logout",onClose:n,cancel:r})},l=async()=>{try{await g.delete("/logout"),window.location.href="/"}catch{s("something gone wrong, try again letter !")}},i=()=>{o({title:"Are you sure !",description:"would you like to delete the account?",status:!0,buttonText:"Yes, Delete",onClose:l,cancel:r})};return e.jsxs("div",{children:[e.jsx(f,{title:s.title,description:s.description,status:s.status,buttonText:s.buttonText,onClose:s.onClose,cancel:s.cancel}),e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6 mt-10 sm:mt-0",children:[e.jsxs("div",{className:"md:col-span-1 flex justify-between",children:[e.jsxs("div",{className:"px-4 sm:px-0",children:[e.jsxs("h3",{className:"text-xl font-medium text-gray-900",children:["Logout & Delete Account"," "]}),e.jsxs("p",{className:"mt-1 text-gray-600",children:[" ","Logout or Permanently delete your account."," "]})]}),e.jsx("div",{className:"px-4 sm:px-0"})]}),e.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6 bg-white shadow sm:rounded-lg",children:[e.jsxs("div",{className:"max-w-xl text-sm text-gray-600",children:[" ","Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain."," "]}),e.jsxs("div",{className:"mt-5 space-x-2",children:[e.jsx("button",{type:"button",onClick:t,className:"inline-flex items-center justify-center px-4 py-2 border border-red-600 rounded-md font-semibold text-xs text-red-600 uppercase tracking-widest disabled:opacity-25 transition",children:"Logout"}),e.jsxs("button",{type:"button",onClick:i,className:"inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-red-500 active:bg-red-600 disabled:opacity-25 transition",children:["Delete Account"," "]})]}),e.jsx("dialog",{className:"z-50 m-0 min-h-full min-w-full overflow-y-auto bg-transparent backdrop:bg-transparent",children:e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto px-4 py-6 sm:px-0","scroll-region":"",children:[e.jsx("div",{className:"fixed inset-0 transform transition-all",style:{display:"none"},children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75 dark:bg-gray-900"})}),e.jsx("div",{className:"mb-6 transform overflow-hidden rounded-lg bg-white shadow-xl transition-all sm:mx-auto sm:w-full dark:bg-gray-800 sm:max-w-2xl",style:{display:"none"}})]})})]})})]})]})}function v(){return e.jsxs("div",{className:"bg-white px-5 mb-5 py-3 rounded-sm overflow-x-scroll sm:overflow-x-hidden flex gap-2",children:[e.jsxs("p",{children:[e.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary mr-2",children:"profile"}),"/"]}),e.jsxs("p",{children:[e.jsx("a",{href:"/",className:"text-gray-600 hover:text-primary mr-2",children:"order"}),"/"]}),e.jsxs("p",{children:[e.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary mr-2",children:"notification"}),"/"]}),e.jsxs("p",{children:[e.jsx("a",{href:"/",className:"text-gray-600 hover:text-primary mr-2",children:"complaint"}),"/"]})]})}function C(){return e.jsx("div",{className:"bg-gray-100",children:e.jsxs("main",{className:"max-w-7xl mx-auto py-4 sm:px-6 lg:px-8 font-sans",children:[e.jsx(v,{}),e.jsxs("div",{children:[e.jsx(w,{}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"border-t border-gray-200"})})})]}),e.jsx(j,{}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"border-t border-gray-200"})})}),e.jsx(N,{})]})})}export{C as default};
